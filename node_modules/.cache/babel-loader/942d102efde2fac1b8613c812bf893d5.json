{"ast":null,"code":"import _objectSpread from \"/Users/nostra/Documents/react/ukom/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/nostra/Documents/react/ukom/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nostra/Documents/react/ukom/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nostra/Documents/react/ukom/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nostra/Documents/react/ukom/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nostra/Documents/react/ukom/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/nostra/Documents/react/ukom/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/nostra/Documents/react/ukom/src/views/Pages/Login/Login.js\";\nimport React, { Component } from 'react';\nimport { Alert, Button, Card, CardBody, CardGroup, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\nimport AuthService from './Service/AuthService';\nimport { Redirect } from 'react-router-dom';\nvar authService = new AuthService();\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.password = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.email = function (e) {\n      _this.setState({\n        email: e.target.value\n      });\n    };\n\n    _this.doLogin = function () {\n      var dataToLogin = _objectSpread({}, _this.state);\n\n      console.log(dataToLogin);\n      authService.login(dataToLogin).then(function (response) {\n        var data = response.data;\n\n        if (data.message == \"OK\") {\n          localStorage.setItem('access-token', data.result);\n          console.log(localStorage.getItem('access-token'));\n\n          _this.setState({\n            isLogin: true\n          });\n        } else {\n          _this.setState({\n            visibleAlert: true,\n            messageAlert: data.result,\n            colorAlert: \"danger\"\n          });\n\n          console.log(response);\n        }\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      isLogin: false,\n      visibleAlert: false,\n      messageAlert: \"\",\n      colorAlert: \"\"\n    };\n    _this.onDismiss = _this.onDismiss.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"onDismiss\",\n    value: function onDismiss() {\n      this.setState({\n        visibleAlert: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isLogin) {\n        return React.createElement(Redirect, {\n          to: \"/dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          className: \"app flex-row align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Row, {\n          className: \"justify-content-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(CardGroup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: \"p-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(CardBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Login\"), React.createElement(\"p\", {\n          className: \"text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"Sign In to your account\"), React.createElement(InputGroup, {\n          className: \"mb-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(InputGroupAddon, {\n          addonType: \"prepend\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(InputGroupText, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"icon-user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }))), React.createElement(Input, {\n          onChange: this.email,\n          type: \"text\",\n          placeholder: \"Username\",\n          autoComplete: \"email\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        })), React.createElement(InputGroup, {\n          className: \"mb-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(InputGroupAddon, {\n          addonType: \"prepend\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(InputGroupText, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"icon-lock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }))), React.createElement(Input, {\n          onChange: this.password,\n          type: \"password\",\n          placeholder: \"Password\",\n          autoComplete: \"current-password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        })), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: \"6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: this.doLogin,\n          color: \"primary\",\n          className: \"px-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Login\")))))), React.createElement(Card, {\n          className: \"text-white bg-primary py-5 d-md-down-none\",\n          style: {\n            width: 44 + '%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(CardBody, {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Sign up\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Anda tidak memiliki akun?\"), React.createElement(\"a\", {\n          class: \"btn btn-primary\",\n          href: \"/register\",\n          role: \"light\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"Register Now!\"))))), React.createElement(Alert, {\n          color: this.state.colorAlert,\n          isOpen: this.state.visibleAlert,\n          toggle: this.onDismiss,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, this.state.messageAlert)))));\n      }\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/nostra/Documents/react/ukom/src/views/Pages/Login/Login.js"],"names":["React","Component","Alert","Button","Card","CardBody","CardGroup","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","AuthService","Redirect","authService","Login","props","password","e","setState","target","value","email","doLogin","dataToLogin","state","console","log","login","then","response","data","message","localStorage","setItem","result","getItem","isLogin","visibleAlert","messageAlert","colorAlert","onDismiss","bind","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Alert, Button, Card, CardBody, CardGroup, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\nimport AuthService from './Service/AuthService';\nimport { Redirect } from 'react-router-dom';\n\nconst authService = new AuthService();\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email : \"\", password : \"\", isLogin : false,\n      visibleAlert: false, messageAlert: \"\", colorAlert: \"\"\n    }\n\n    this.onDismiss = this.onDismiss.bind(this);\n  }\n\n  password = (e) => {this.setState({password:e.target.value})}\n  email = (e) => {this.setState({email:e.target.value})}\n\n  onDismiss() {\n    this.setState({ visibleAlert: false });\n  }\n\n  doLogin = () => {\n\n    const dataToLogin = {\n      ...this.state\n    }\n    console.log(dataToLogin);\n    authService.login(dataToLogin).then(response =>{\n      const data = response.data;\n      if(data.message == \"OK\"){\n        localStorage.setItem('access-token',data.result);\n        console.log(localStorage.getItem('access-token'));\n        this.setState({isLogin: true});\n      } else {\n        this.setState({\n          visibleAlert: true,\n          messageAlert: data.result,\n          colorAlert: \"danger\"\n        });\n        console.log(response);\n      }\n    });\n  }\n\n  render() {\n    if(this.state.isLogin){\n        return(\n            <Redirect to=\"/dashboard\" />\n        )\n    } else {\n      return (\n        <div className=\"app flex-row align-items-center\">\n          <Container>\n            <Row className=\"justify-content-center\">\n              <Col md=\"8\">\n                <CardGroup>\n                  <Card className=\"p-4\">\n                    <CardBody>\n                      <Form >\n                        <h1>Login</h1>\n                        <p className=\"text-muted\">Sign In to your account</p>\n                        <InputGroup className=\"mb-3\">\n                          <InputGroupAddon addonType=\"prepend\">\n                            <InputGroupText>\n                              <i className=\"icon-user\"></i>\n                            </InputGroupText>\n                          </InputGroupAddon>\n                          <Input onChange={this.email} type=\"text\" placeholder=\"Username\" autoComplete=\"email\" />\n                        </InputGroup>\n                        <InputGroup className=\"mb-4\">\n                          <InputGroupAddon addonType=\"prepend\">\n                            <InputGroupText>\n                              <i className=\"icon-lock\"></i>\n                            </InputGroupText>\n                          </InputGroupAddon>\n                          <Input onChange={this.password} type=\"password\" placeholder=\"Password\" autoComplete=\"current-password\" />\n                        </InputGroup>\n                        <Row>\n                          <Col xs=\"6\">\n                            <Button onClick={this.doLogin} color=\"primary\" className=\"px-4\">Login</Button>\n                          </Col>\n                        </Row>\n                      </Form>\n                    </CardBody>\n                  </Card>\n                  <Card className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: 44 + '%' }}>\n                    <CardBody className=\"text-center\">\n                      <div>\n                        <h2>Sign up</h2>\n                        <p>Anda tidak memiliki akun?</p>\n                        <a class=\"btn btn-primary\" href=\"/register\" role=\"light\">Register Now!</a>\n                      </div>\n                    </CardBody>\n                  </Card>\n                </CardGroup>\n                <Alert color={this.state.colorAlert} isOpen={this.state.visibleAlert} toggle={this.onDismiss}>\n                  {this.state.messageAlert}\n                </Alert>\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}